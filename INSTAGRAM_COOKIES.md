# üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Instagram Cookies

Instagram —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –≤–∏–¥–µ–æ —á–µ—Ä–µ–∑ yt-dlp. –ù—É–∂–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å cookies –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞.

## üìã –°–ø–æ—Å–æ–± 1: –≠–∫—Å–ø–æ—Ä—Ç cookies –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞ (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

### –î–ª—è Chrome/Edge:

1. **–£—Å—Ç–∞–Ω–æ–≤–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ "Get cookies.txt LOCALLY"**
   - Chrome Web Store: https://chrome.google.com/webstore/detail/get-cookiestxt-locally/cclelndahbckbenkjhflpdbgdldlbecc

2. **–ó–∞–ª–æ–≥–∏–Ω—å—Å—è –≤ Instagram**
   - –û—Ç–∫—Ä–æ–π https://instagram.com –≤ –±—Ä–∞—É–∑–µ—Ä–µ
   - –í–æ–π–¥–∏ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç

3. **–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π cookies**
   - –ù–∞–∂–º–∏ –Ω–∞ –∏–∫–æ–Ω–∫—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è "Get cookies.txt LOCALLY"
   - –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É "Export"
   - –°–æ—Ö—Ä–∞–Ω–∏ —Ñ–∞–π–ª –∫–∞–∫ `cookies.txt`

### –î–ª—è Firefox:

1. **–£—Å—Ç–∞–Ω–æ–≤–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ "cookies.txt"**
   - Firefox Add-ons: https://addons.mozilla.org/en-US/firefox/addon/cookies-txt/

2. **–ó–∞–ª–æ–≥–∏–Ω—å—Å—è –≤ Instagram –∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π cookies**
   - –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ Chrome

---

## üì§ –ó–∞–≥—Ä—É–∑–∫–∞ cookies –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### –° Windows:

```powershell
# –ó–∞–º–µ–Ω–∏ –ø—É—Ç–∏ –Ω–∞ —Å–≤–æ–∏
scp C:\–ø—É—Ç—å\–∫\cookies.txt –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å@ip_—Å–µ—Ä–≤–µ—Ä–∞:~/tg_shorts_bot/instagram_cookies.txt

# –ü—Ä–∏–º–µ—Ä:
scp C:\Downloads\cookies.txt erik@192.168.1.100:~/tg_shorts_bot/instagram_cookies.txt
```

### –° Linux/Mac:

```bash
scp ~/Downloads/cookies.txt –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å@ip_—Å–µ—Ä–≤–µ—Ä–∞:~/tg_shorts_bot/instagram_cookies.txt
```

---

## üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞

–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ cookies –Ω–∞ —Å–µ—Ä–≤–µ—Ä:

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å@ip_—Å–µ—Ä–≤–µ—Ä–∞

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –±–æ—Ç–∞
sudo systemctl restart tg-shorts-bot

# –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏
sudo journalctl -u tg-shorts-bot -f
```

–î–æ–ª–∂–µ–Ω —É–≤–∏–¥–µ—Ç—å:
```
INFO - –ù–∞–π–¥–µ–Ω —Ñ–∞–π–ª cookies –¥–ª—è Instagram: .../instagram_cookies.txt
INFO - –ò—Å–ø–æ–ª—å–∑—É–µ–º cookies –∏–∑ —Ñ–∞–π–ª–∞: .../instagram_cookies.txt
```

---

## üîß –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –õ–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å Instagram (–ù–ï –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å Instagram, –Ω–æ —ç—Ç–æ –º–µ–Ω–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ.

**–î–æ–±–∞–≤—å –≤ `.env`:**
```env
INSTAGRAM_USERNAME=—Ç–≤–æ–π_–ª–æ–≥–∏–Ω
INSTAGRAM_PASSWORD=—Ç–≤–æ–π_–ø–∞—Ä–æ–ª—å
```

**–û–±–Ω–æ–≤–∏ `base.py`:**
```python
if instagram_username and instagram_password:
    self.ydl_opts['username'] = instagram_username
    self.ydl_opts['password'] = instagram_password
```

‚ö†Ô∏è **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ:** Instagram –º–æ–∂–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç –ø—Ä–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º –≤—Ö–æ–¥–µ.

---

## ‚ùì –ü—Ä–æ–±–ª–µ–º—ã

### –û—à–∏–±–∫–∞ "rate-limit reached or login required"

- Cookies —É—Å—Ç–∞—Ä–µ–ª–∏ ‚Üí –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π –∑–∞–Ω–æ–≤–æ
- –§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Üí –ü—Ä–æ–≤–µ—Ä—å –ø—É—Ç—å –∫ `instagram_cookies.txt`
- Instagram –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª ‚Üí –ò—Å–ø–æ–ª—å–∑—É–π –¥—Ä—É–≥–æ–π –∞–∫–∫–∞—É–Ω—Ç

### –û—à–∏–±–∫–∞ "HTTP Error 429: Too Many Requests"

- Instagram –æ–≥—Ä–∞–Ω–∏—á–∏–ª –∑–∞–ø—Ä–æ—Å—ã ‚Üí –ü–æ–¥–æ–∂–¥–∏ 1-2 —á–∞—Å–∞
- –ò—Å–ø–æ–ª—å–∑—É–π cookies –¥—Ä—É–≥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞

---

## üìç –ì–¥–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ñ–∞–π–ª cookies

```
~/tg_shorts_bot/
‚îú‚îÄ‚îÄ instagram_cookies.txt    ‚Üê –ó–î–ï–°–¨ (–≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞)
‚îú‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ config.py
‚îî‚îÄ‚îÄ ...
```

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–π–¥—ë—Ç —Ñ–∞–π–ª `instagram_cookies.txt` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–û—Ç–ø—Ä–∞–≤—å –±–æ—Ç—É —Å—Å—ã–ª–∫—É –Ω–∞ Instagram Reels:
```
https://www.instagram.com/reel/...
```

–ï—Å–ª–∏ –≤—Å—ë –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ:
- ‚úÖ –ë–æ—Ç –ø–æ–ª—É—á–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–∏–¥–µ–æ
- ‚úÖ –ü–µ—Ä–µ–≤–µ–¥—ë—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ
- ‚úÖ –û–ø—É–±–ª–∏–∫—É–µ—Ç –≤ VK

–ï—Å–ª–∏ –æ—à–∏–±–∫–∞:
- ‚ùå –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏: `sudo journalctl -u tg-shorts-bot -f`
- ‚ùå –£–±–µ–¥–∏—Å—å —á—Ç–æ —Ñ–∞–π–ª cookies –Ω–∞ –º–µ—Å—Ç–µ
- ‚ùå –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π cookies –∑–∞–Ω–æ–≤–æ
